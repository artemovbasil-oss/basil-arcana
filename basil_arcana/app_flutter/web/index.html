<!DOCTYPE html>
<html>
  <head>
    <base href="$FLUTTER_BASE_HREF" />

    <meta charset="UTF-8" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta
      name="description"
      content="Basil’s Arcana — reflective tarot readings for clarity, not certainty."
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Arcana" />

    <title>Basil’s Arcana</title>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", () => {
        // Keep the Telegram WebApp in full-height mode and expose a web flag.
        window.__IS_TELEGRAM__ = Boolean(
          window.Telegram && window.Telegram.WebApp
        );
        if (window.__IS_TELEGRAM__) {
          window.Telegram.WebApp.ready();
          window.Telegram.WebApp.expand();
          document.body.classList.add("telegram-webapp");
        }
      });
    </script>

    <link rel="manifest" href="manifest.json" />
    <script defer src="flutter.js"></script>
  </head>
  <body>
    <script>
      const serviceWorkerVersion = null;
      window.addEventListener("load", () => {
        _flutter.loader.loadEntrypoint({
          serviceWorker: {
            serviceWorkerVersion: serviceWorkerVersion,
          },
          onEntrypointLoaded: (engineInitializer) => {
            engineInitializer.initializeEngine().then((appRunner) => {
              appRunner.runApp();
            });
          },
        });
      });
    </script>
  </body>
</html>
